{
	"name": "ev_space",
	"events": [
		{
			"eventType": "variable",
			"name": "NUM_SMALL_DEBRI",
			"type": "number",
			"initialValue": "80",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 788711968175011
		},
		{
			"eventType": "variable",
			"name": "SMALL_DEBRI_SIZE",
			"type": "number",
			"initialValue": "80",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 401804799442338
		},
		{
			"eventType": "variable",
			"name": "NUM_MED_DEBRI",
			"type": "number",
			"initialValue": "35",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 866878038599665
		},
		{
			"eventType": "variable",
			"name": "MED_DEBRI_SIZE",
			"type": "number",
			"initialValue": "50",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 490292866207463
		},
		{
			"eventType": "variable",
			"name": "NUM_LARGE_DEBRI",
			"type": "number",
			"initialValue": "15",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 253985355074078
		},
		{
			"eventType": "variable",
			"name": "LARGE_DEBRI_SIZE",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 430060550083572
		},
		{
			"eventType": "variable",
			"name": "NUM_LARGE_MOVING_DEBRI",
			"type": "number",
			"initialValue": "10",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 655899708448635
		},
		{
			"eventType": "variable",
			"name": "NUM_SMALL_MOVING_DEBRI",
			"type": "number",
			"initialValue": "40",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 805741056713518
		},
		{
			"eventType": "variable",
			"name": "MOVING_DEBRI_SPEED_LARGE",
			"type": "number",
			"initialValue": "80",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 764738817767803
		},
		{
			"eventType": "variable",
			"name": "MOVING_DEBRI_SPEED_SMALL",
			"type": "number",
			"initialValue": "160",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 850338058231108
		},
		{
			"eventType": "variable",
			"name": "SMALL_DEBRI_DMG",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 181279316577779
		},
		{
			"eventType": "variable",
			"name": "MED_DEBRI_DMG",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 635003211376544
		},
		{
			"eventType": "variable",
			"name": "LARGE_DEBRI_DMG",
			"type": "number",
			"initialValue": "12",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 821371973380606
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Initialize and every tick",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 359815442228091
						}
					],
					"actions": [
						{
							"callFunction": "FadeIn",
							"sid": 303194973332928,
							"parameters": [
								"FADE_TIME"
							]
						}
					],
					"sid": 571833828451273,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 370701391307637,
									"parameters": {
										"first-value": "player_base.Count",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 390966060431971,
									"parameters": {
										"object-to-create": "player_base",
										"layer": "\"FG\"",
										"x": "playerSpawnLoc.X",
										"y": "playerSpawnLoc.Y"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 133501576079530,
									"parameters": {
										"variable": "spaceLayoutGameplayState",
										"value": "GAME_STATE_FALLING"
									}
								},
								{
									"id": "set-object-time-scale",
									"objectClass": "System",
									"sid": 773217997827364,
									"parameters": {
										"object": "SysObj",
										"time-scale": "1"
									}
								},
								{
									"id": "createPermutationTable",
									"objectClass": "AdvancedRandom",
									"sid": 879093136385628,
									"parameters": {
										"length": "NUM_SHIPS",
										"offset": "0"
									}
								},
								{
									"id": "destroy",
									"objectClass": "shipController",
									"sid": 109714209019370
								}
							],
							"sid": 264787216420912
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 531474878512676,
									"parameters": {
										"variable": "spaceLayoutGameplayState",
										"comparison": 0,
										"value": "GAME_STATE_FALLING"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "player_base",
									"sid": 605614927472882,
									"parameters": {
										"x": "playerSpawnLoc.X",
										"y": "playerSpawnLoc.Y"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 376229493508491,
									"parameters": {
										"variable": "zoomLevel",
										"value": "BASE_ZOOM"
									}
								},
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 759505504086718,
									"parameters": {
										"scale": "BASE_ZOOM"
									}
								}
							],
							"sid": 795023804709805
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 554244593309337,
									"parameters": {
										"variable": "spaceLayoutGameplayState",
										"comparison": 0,
										"value": "GAME_STATE_PILOTING"
									}
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 472429874748153,
									"parameters": {
										"seconds": "0"
									}
								},
								{
									"id": "set-position",
									"objectClass": "shipController",
									"sid": 562030123794716,
									"parameters": {
										"x": "LayoutWidth / 2",
										"y": "LayoutHeight - 300"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 360671788729930,
									"parameters": {
										"variable": "zoomLevel",
										"value": "ZOOMED_OUT"
									}
								},
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 130823671712151,
									"parameters": {
										"scale": "ZOOMED_OUT"
									}
								}
							],
							"sid": 832853050335234
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Spawn debri",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 450968180852063,
											"parameters": {
												"count": "NUM_SMALL_DEBRI"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 398800556973719,
											"parameters": {
												"object-to-create": "debri_small",
												"layer": "\"Debri\"",
												"x": "random(debriSpawnZone.X, debriSpawnZone.X + debriSpawnZone.Width)",
												"y": "random(debriSpawnZone.Y, debriSpawnZone.Y + debriSpawnZone.Height)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "debri_small",
											"sid": 714737128162564,
											"behaviorType": "Rotate",
											"parameters": {
												"speed": "SMALL_DEBRI_SIZE"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "debri_small",
											"sid": 310960426619345,
											"parameters": {
												"instance-variable": "damage",
												"value": "SMALL_DEBRI_DMG"
											}
										}
									],
									"sid": 518832915183936,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 191900304910432,
													"parameters": {
														"first-value": "floor(random(0, 2))",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-speed",
													"objectClass": "debri_small",
													"sid": 511389643624217,
													"behaviorType": "Rotate",
													"parameters": {
														"speed": "Self.Rotate.Speed * (-1)"
													}
												}
											],
											"sid": 821539163863120
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 977621079325056,
											"parameters": {
												"count": "NUM_MED_DEBRI"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 877374014073810,
											"parameters": {
												"object-to-create": "debri_med",
												"layer": "\"Debri\"",
												"x": "random(debriSpawnZone.X, debriSpawnZone.X + debriSpawnZone.Width)",
												"y": "random(debriSpawnZone.Y, debriSpawnZone.Y + debriSpawnZone.Height)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "debri_med",
											"sid": 343968258020992,
											"behaviorType": "Rotate",
											"parameters": {
												"speed": "MED_DEBRI_SIZE"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "debri_med",
											"sid": 992740411003840,
											"parameters": {
												"instance-variable": "damage",
												"value": "MED_DEBRI_DMG"
											}
										}
									],
									"sid": 250799659746061,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 349820478434437,
													"parameters": {
														"first-value": "floor(random(0, 2))",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-speed",
													"objectClass": "debri_med",
													"sid": 975124044707256,
													"behaviorType": "Rotate",
													"parameters": {
														"speed": "Self.Rotate.Speed * (-1)"
													}
												}
											],
											"sid": 221709680561702
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 392324987349477,
											"parameters": {
												"count": "NUM_LARGE_DEBRI"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 767651491482092,
											"parameters": {
												"object-to-create": "debri_large",
												"layer": "\"Debri\"",
												"x": "random(debriSpawnZone.X, debriSpawnZone.X + debriSpawnZone.Width)",
												"y": "random(debriSpawnZone.Y, debriSpawnZone.Y + debriSpawnZone.Height)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "debri_large",
											"sid": 379208592300325,
											"behaviorType": "Rotate",
											"parameters": {
												"speed": "LARGE_DEBRI_SIZE"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "debri_large",
											"sid": 689041775502275,
											"parameters": {
												"instance-variable": "damage",
												"value": "LARGE_DEBRI_DMG"
											}
										}
									],
									"sid": 162021677743117,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 829483105433420,
													"parameters": {
														"first-value": "floor(random(0, 2))",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-speed",
													"objectClass": "debri_large",
													"sid": 422334317665262,
													"behaviorType": "Rotate",
													"parameters": {
														"speed": "Self.Rotate.Speed * (-1)"
													}
												}
											],
											"sid": 211669594186653
										}
									]
								}
							],
							"sid": 132207674684561
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Spawn moving debri",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 326081499588341,
											"parameters": {
												"count": "NUM_SMALL_MOVING_DEBRI"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 627834033976592,
											"parameters": {
												"object-to-create": "debri_moving_small",
												"layer": "\"Debri\"",
												"x": "random(debriMovingSpawnZone.X, debriMovingSpawnZone.X + debriMovingSpawnZone.Width)",
												"y": "random(debriMovingSpawnZone.Y, debriMovingSpawnZone.Y + debriMovingSpawnZone.Height)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "debri_moving_small",
											"sid": 934565503136787,
											"behaviorType": "Bullet",
											"parameters": {
												"speed": "MOVING_DEBRI_SPEED_SMALL"
											}
										},
										{
											"id": "set-angle-of-motion",
											"objectClass": "debri_moving_small",
											"sid": 991151372918265,
											"behaviorType": "Bullet",
											"parameters": {
												"angle": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "debri_moving_small",
											"sid": 718420350585275,
											"parameters": {
												"instance-variable": "damage",
												"value": "SMALL_DEBRI_DMG"
											}
										}
									],
									"sid": 738515298461574,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 165435718386761,
													"parameters": {
														"first-value": "floor(random(0, 2))",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-angle-of-motion",
													"objectClass": "debri_moving_small",
													"sid": 834035260044358,
													"behaviorType": "Bullet",
													"parameters": {
														"angle": "180"
													}
												}
											],
											"sid": 260002399264915
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 861574841953592,
											"parameters": {
												"count": "NUM_LARGE_MOVING_DEBRI"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 466255292749242,
											"parameters": {
												"object-to-create": "debri_moving_large",
												"layer": "\"Debri\"",
												"x": "random(debriMovingSpawnZone.X, debriMovingSpawnZone.X + debriMovingSpawnZone.Width)",
												"y": "random(debriMovingSpawnZone.Y, debriMovingSpawnZone.Y + debriMovingSpawnZone.Height)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "debri_moving_large",
											"sid": 541237224809299,
											"behaviorType": "Bullet",
											"parameters": {
												"speed": "MOVING_DEBRI_SPEED_LARGE"
											}
										},
										{
											"id": "set-angle-of-motion",
											"objectClass": "debri_moving_large",
											"sid": 811028019489156,
											"behaviorType": "Bullet",
											"parameters": {
												"angle": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "debri_moving_large",
											"sid": 536772725692941,
											"parameters": {
												"instance-variable": "damage",
												"value": "MED_DEBRI_DMG"
											}
										}
									],
									"sid": 841708201574156,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 808303666623239,
													"parameters": {
														"first-value": "floor(random(0, 2))",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-angle-of-motion",
													"objectClass": "debri_moving_large",
													"sid": 856507210806840,
													"behaviorType": "Bullet",
													"parameters": {
														"angle": "180"
													}
												}
											],
											"sid": 979614460200484
										}
									]
								}
							],
							"sid": 821039976676054
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "camera",
							"sid": 412831181585979,
							"parameters": {
								"instance-variable": "isEnabled"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "camera",
							"sid": 708704715633927,
							"parameters": {
								"x": "player_base.X",
								"y": "player_base.Y"
							}
						}
					],
					"sid": 831739268671820
				}
			],
			"sid": 621147840178682
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Ship docking",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 523931645674787,
							"parameters": {
								"object": "dock"
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 378304505829180,
							"parameters": {
								"first-value": "distance(dock.X, dock.Y, ship_entire_collider_1.X, ship_entire_collider_1.Y)",
								"comparison": 3,
								"second-value": "16"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "shipController",
							"sid": 681248255566437,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "dock.id"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 505538365427148
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 546423344394819,
							"parameters": {
								"variable": "spaceLayoutGameplayState",
								"value": "GAME_STATE_FALLING"
							}
						},
						{
							"id": "destroy",
							"objectClass": "shipController",
							"sid": 339253594580060
						},
						{
							"id": "destroy",
							"objectClass": "ship_col_1",
							"sid": 815553567629953
						},
						{
							"id": "set-enabled",
							"objectClass": "player_base",
							"sid": 333460402253454,
							"behaviorType": "Platform",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "player_base",
							"sid": 694125588196309,
							"parameters": {
								"collisions": "enabled"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 622204459282135,
							"parameters": {
								"variable": "zoomLevel",
								"value": "BASE_ZOOM"
							}
						}
					],
					"sid": 262350446453438
				}
			],
			"sid": 784539228046150
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Collisions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "player_base",
							"sid": 856364997272603,
							"parameters": {
								"object": "famDebri"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "player_base",
							"sid": 293114164652380,
							"parameters": {
								"instance-variable": "isInvulnerable"
							},
							"isInverted": true
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 992393694969935,
							"parameters": {
								"variable": "spaceLayoutGameplayState",
								"comparison": 0,
								"value": "GAME_STATE_FALLING"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "famDebri",
							"sid": 983173298661242
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "player_base",
							"sid": 590514969309640,
							"parameters": {
								"instance-variable": "health",
								"value": "1"
							}
						},
						{
							"callFunction": "StartFreezeFrame",
							"sid": 898741029171152,
							"parameters": [
								"0.1"
							]
						},
						{
							"id": "flash",
							"objectClass": "player_anim",
							"sid": 187385617934599,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.1",
								"off-time": "0.1",
								"duration": "0.8"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "player_base",
							"sid": 250611861006636,
							"parameters": {
								"instance-variable": "isInvulnerable",
								"value": "true"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "SysObj",
							"sid": 826649311756731,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1.0",
								"type": "once",
								"tag": "\"invuln_timer\""
							}
						}
					],
					"sid": 564299217857428
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "ship_entire_collider_1",
							"sid": 264248521101276,
							"parameters": {
								"object": "famDebri"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "famDebri",
							"sid": 281470049156690
						},
						{
							"id": "add-to-instvar",
							"objectClass": "shipController",
							"sid": 407300883356015,
							"parameters": {
								"instance-variable": "dmgPercent",
								"value": "famDebri.damage"
							}
						},
						{
							"id": "shake",
							"objectClass": "camera",
							"sid": 928691529072648,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "5",
								"duration": "0.4",
								"mode": "reducing-magnitude"
							}
						}
					],
					"sid": 666635506675751
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "shipController",
							"sid": 176736960541361,
							"parameters": {
								"object": "ground"
							}
						}
					],
					"actions": [
						{
							"id": "shake",
							"objectClass": "camera",
							"sid": 702789077808863,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "5",
								"duration": "0.4",
								"mode": "reducing-magnitude"
							}
						},
						{
							"callFunction": "StartFreezeFrame",
							"sid": 334195376847605,
							"parameters": [
								"0.08"
							]
						}
					],
					"sid": 597269274916965
				}
			],
			"sid": 812969214847925
		},
		{
			"eventType": "include",
			"includeSheet": "ev_camera"
		},
		{
			"eventType": "include",
			"includeSheet": "ev_player"
		},
		{
			"eventType": "include",
			"includeSheet": "ev_triggers"
		}
	],
	"sid": 102742149839166
}